<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>You're Special! ‚ú®</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://unpkg.com/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Quicksand', sans-serif; background-color: #0d0d0d; color: #fff; overflow: hidden; }
        .pink-glow { box-shadow: 0 0 30px rgba(244, 114, 182, 0.4); }
        .text-glow { text-shadow: 0 0 20px rgba(244, 114, 182, 1); }
        [x-cloak] { display: none !important; }
        .doodle-float { animation: floating 3s ease-in-out infinite; }
        @keyframes floating {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(5deg); }
            100% { transform: translateY(0px) rotate(0deg); }
        }
    </style>
</head>
<body x-data="{ 
    step: 1, 
    progress: 0, 
    revealed: [],
    startMeter() {
        this.step = 2;
        let interval = setInterval(() => {
            if (this.progress < 120) {
                this.progress++;
            } else {
                clearInterval(interval);
                lucide.createIcons();
            }
        }, 35);
    },
    celebrate() {
        this.step = 4;
        setTimeout(() => lucide.createIcons(), 10);
        
        // Massive Confetti Blast
        var end = Date.now() + (5 * 1000); // 5 seconds of celebration
        var colors = ['#f472b6', '#db2777', '#ffffff', '#fbbf24'];

        (function frame() {
            confetti({
                particleCount: 3,
                angle: 60,
                spread: 55,
                origin: { x: 0, y: 0.8 },
                colors: colors
            });
            confetti({
                particleCount: 3,
                angle: 120,
                spread: 55,
                origin: { x: 1, y: 0.8 },
                colors: colors
            });

            if (Date.now() < end) {
                requestAnimationFrame(frame);
            }
        }());

        // Special Heart Bursts
        var count = 200;
        var defaults = { origin: { y: 0.7 }, colors: ['#f472b6', '#db2777'] };

        function fire(particleRatio, opts) {
          confetti(Object.assign({}, defaults, opts, {
            particleCount: Math.floor(count * particleRatio)
          }));
        }

        fire(0.25, { spread: 26, startVelocity: 55 });
        fire(0.2, { spread: 60 });
        fire(0.35, { spread: 100, decay: 0.91, scalar: 0.8 });
    }
}" x-init="lucide.createIcons()">

    <div class="fixed inset-0 pointer-events-none opacity-20">
        <i data-lucide="star" class="absolute top-10 left-10 text-pink-400 doodle-float"></i>
        <i data-lucide="heart" class="absolute top-1/4 right-10 text-pink-500 doodle-float"></i>
        <i data-lucide="sparkles" class="absolute bottom-20 left-1/4 text-pink-300 doodle-float"></i>
        <i data-lucide="party-popper" class="absolute bottom-1/3 right-1/4 text-pink-200 doodle-float"></i>
    </div>

    <main class="relative z-10 min-h-screen flex items-center justify-center p-6 text-center">

        <div x-show="step === 1" x-cloak class="space-y-8 animate__animated animate__fadeIn">
            <div class="w-36 h-36 rounded-full bg-pink-500/10 border-4 border-dashed border-pink-400 pink-glow mx-auto flex items-center justify-center">
                <i data-lucide="smile" class="w-20 h-20 text-pink-400"></i>
            </div>
            <h1 class="text-5xl font-bold tracking-tight">Hey Beautiful</h1>
            <p class="text-pink-200/60 text-lg">Do you even know how cute you are?</p>
            <button @click="startMeter()" class="bg-pink-500 hover:bg-pink-600 px-12 py-4 rounded-2xl font-bold transition-all hover:scale-110 shadow-xl shadow-pink-500/30 text-xl">
                Open My Heart üíó
            </button>
        </div>

        <div x-show="step === 2" x-cloak class="w-full max-w-md animate__animated animate__zoomIn">
            <h2 class="text-xl font-medium mb-4 text-gray-400">Calculating your cuteness level...</h2>
            <div class="text-8xl font-black text-pink-500 text-glow mb-10" x-text="progress + '%'"></div>
            <div class="w-full bg-gray-900 h-6 rounded-2xl border-2 border-pink-500/20 overflow-hidden p-1">
                <div class="h-full bg-pink-500 rounded-xl pink-glow" :style="'width: ' + Math.min((progress/120)*100, 100) + '%'"></div>
            </div>
            <div x-show="progress >= 120" class="mt-10 space-y-6 animate__animated animate__bounceIn">
                <div class="bg-pink-500 text-white px-6 py-3 rounded-2xl font-bold shadow-lg">‚ö†Ô∏è TOO CUTE TO HANDLE</div>
                <button @click="step = 3; setTimeout(() => lucide.createIcons(), 10)" class="text-pink-300 font-bold flex items-center gap-2 mx-auto">
                    Continue anyway <i data-lucide="arrow-right"></i>
                </button>
            </div>
        </div>

        <div x-show="step === 3" x-cloak class="w-full max-w-sm space-y-5">
            <h2 class="text-3xl font-black mb-8 text-glow text-center animate__animated animate__fadeInDown">
                Just for you ‚ú®
            </h2>
            
            <template x-for="(item, index) in [
                {text: 'You look adorable', icon: 'zap'}, 
                {text: 'You have the sweetest vibe', icon: 'music'}, 
                {text: 'You make things feel lighter', icon: 'feather'}, 
                {text: 'You are naturally charming', icon: 'sparkles'}
            ]">
                <div 
                    x-show="step === 3"
                    class="animate__animated animate__fadeInUp"
                    :style="'animation-delay: ' + (index * 0.15) + 's'"
                >
                    <div 
                        @click="if(!revealed.includes(index)) revealed.push(index)" 
                        class="relative overflow-hidden w-full p-5 rounded-3xl bg-[#111] border-2 cursor-pointer transition-all duration-500 flex items-center justify-center min-h-[85px] group"
                        :class="revealed.includes(index) ? 'border-pink-500 pink-glow scale-[1.02] bg-[#1a0a12]' : 'border-gray-800 hover:border-pink-500/50'"
                    >
                        <div x-show="revealed.includes(index)" class="absolute inset-0 bg-gradient-to-r from-pink-500/10 to-transparent animate-pulse"></div>

                        <div x-show="!revealed.includes(index)" class="flex flex-col items-center gap-1 group-hover:scale-110 transition-transform duration-300">
                            <i data-lucide="heart" class="text-pink-500 w-8 h-8 fill-pink-500/20"></i>
                            <span class="text-[10px] text-pink-500/40 font-bold tracking-widest uppercase">Reveal</span>
                        </div>

                        <div 
                            x-show="revealed.includes(index)" 
                            x-transition:enter="animate__animated animate__zoomIn animate__faster"
                            class="flex items-center gap-4 relative z-10"
                        >
                            <div class="p-2 bg-pink-500/20 rounded-xl">
                                <i :data-lucide="item.icon" class="text-pink-400 w-6 h-6"></i>
                            </div>
                            <span x-text="item.text" class="text-white font-bold text-lg drop-shadow-md"></span>
                        </div>
                    </div>
                </div>
            </template>

            <div class="pt-6">
                <button 
                    x-show="revealed.length >= 4" 
                    x-transition:enter="animate__animated animate__fadeInUp"
                    @click="celebrate()" 
                    class="w-full bg-white text-black px-8 py-4 rounded-2xl font-black text-xl shadow-[0_0_30px_rgba(255,255,255,0.3)] hover:shadow-pink-500/50 hover:bg-pink-500 hover:text-white transition-all duration-300 animate-pulse"
                >
                    One more thing üéÅ
                </button>
            </div>
        </div>

        <div x-show="step === 4" x-cloak class="p-12 rounded-[50px] border-4 border-dashed border-pink-500/40 bg-gradient-to-b from-pink-950/20 to-black animate__animated animate__jackInTheBox">
            <div class="relative inline-block mb-8">
                <i data-lucide="party-popper" class="w-24 h-24 text-pink-400 doodle-float"></i>
                <i data-lucide="cake" class="absolute -bottom-4 -right-8 w-16 h-16 text-yellow-400 -rotate-12"></i>
            </div>
            <h1 class="text-7xl font-black text-white text-glow leading-none mb-6">HAPPY <br> BIRTHDAY!</h1>
            <p class="text-pink-100/80 italic text-xl max-w-xs mx-auto font-semibold">"You really are special in a way that's hard to explain. Stay amazing!"</p>
            <div class="mt-10 flex justify-center gap-4">
                <i data-lucide="heart" class="w-10 h-10 text-pink-500 fill-pink-500 animate-pulse"></i>
                <i data-lucide="heart" class="w-10 h-10 text-pink-500 fill-pink-500 animate-pulse" style="animation-delay: 0.2s"></i>
                <i data-lucide="heart" class="w-10 h-10 text-pink-500 fill-pink-500 animate-pulse" style="animation-delay: 0.4s"></i>
            </div>
        </div>
    </main>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.effect(() => { lucide.createIcons(); });
        });
    </script>
</body>
</html>